<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="dark" />
  <title>Maneit Portal</title>

  <link rel="stylesheet" href="assets/css/style.css" />
</head>

<body>
<header class="topbar">
  <div class="wrap row">
    <a class="brand" href="./index.html">
      <span class="dot"></span>
      <strong>Maneit Portal</strong>
      <span class="pill">Home</span>
    </a>

    <nav class="tabs">
      <a class="tab" href="pages/hub.html">Hub</a>
      <a class="tab" href="pages/work.html">Work</a>
      <a class="tab" href="pages/projects.html">Projects</a>
      <a class="tab" href="pages/agents.html">Agents</a>
      <a class="tab" href="pages/agentfactory.html">AgentFactory</a>
      <a class="tab" href="pages/pipelines.html">Pipelines</a>
      <a class="tab" href="pages/novelcrafter.html">NovelCrafter</a>
      <a class="tab" href="pages/stream.html">Stream</a>
      <a class="tab" href="pages/notes.html">Notes</a>
      <a class="tab" href="pages/system.html">System</a>
    </nav>
  </div>
</header>

<main class="wrap">
  <h1 class="h1">Home</h1>
  <p class="muted">Your replacement for ChatGPT + Calendar + Day Planner + Teams/Discord.</p>

  <section class="grid">
    <!-- CHAT -->
    <article class="card span7">
      <h2>Chat</h2>
      <p class="muted">Self-reflection, thinking out loud, idea exploration.</p>

      <div class="chat-layout">
        <!-- Sidebar -->
        <aside class="chat-sidebar">
          <div class="chat-sidebar-header mono">Chats</div>
          <div class="chat-list" id="chatList"></div>
          <button class="btn" id="newChatBtn" style="margin:10px;">+ New chat</button>
        </aside>

        <!-- Main chat -->
        <div class="chat-main">
          <div class="chat-messages" id="chatMessages"></div>

          <div class="chat-input">
            <select class="field" id="modelSelect">
              <option>Local LLM</option>
              <option>Reasoning model</option>
              <option>Fast draft</option>
            </select>

            <textarea
              class="field chat-textarea"
              id="chatInput"
              placeholder="Write here… (Enter = send, Shift+Enter = new line)"
            ></textarea>

            <button class="btn" id="sendChat">Send</button>
          </div>
        </div>
      </div>
    </article>

    <!-- TODAY -->
    <article class="card span5">
      <h2>Today</h2>
      <p class="muted">Top 3</p>

      <div class="box">
        <ol class="mono" style="margin:0; padding-left:18px; line-height:1.7;">
          <li>Keep portal consistent</li>
          <li>Build OS pages</li>
          <li>Integrations later</li>
        </ol>
      </div>
    </article>

    <!-- CALENDAR -->
    <article class="card span6">
      <h2>Calendar</h2>
      <p class="muted">Placeholder daily view.</p>

      <div class="box mono">
        <div>09:00 Focus block</div>
        <div>12:00 Admin</div>
        <div>15:00 Build</div>
      </div>
    </article>

    <!-- CHAT HUB (replaces Email Inbox) -->
    <article class="card span6">
      <h2>Chat Hub</h2>
      <p class="muted">Teams + Discord DMs. UI shell now. Real sync later.</p>

      <div class="box">
        <div class="mono" style="display:flex; gap:10px; flex-wrap:wrap; margin-bottom:10px;">
          <span class="pill" style="opacity:.95;">Teams: <strong id="teamsCount">3</strong> mentions</span>
          <span class="pill" style="opacity:.95;">Discord: <strong id="discordCount">1</strong> DM</span>
          <span class="pill" style="opacity:.8;">Slack: <strong>0</strong></span>
        </div>

        <div class="mono" style="margin-bottom:8px; opacity:.85;">Latest</div>

        <div class="mono" id="chatHubList" style="display:flex; flex-direction:column; gap:8px;">
          <div class="rowItem">
            <strong>[Teams]</strong> @you — “Can you check the draft?”
          </div>
          <div class="rowItem">
            <strong>[Teams]</strong> #ops — “Status on the portal build?”
          </div>
          <div class="rowItem">
            <strong>[Discord]</strong> DM — “Yo, you around?”
          </div>
        </div>

        <div style="display:flex; gap:10px; margin-top:12px; flex-wrap:wrap;">
          <button class="btn" id="openChatHubBtn">Open Chat Hub</button>
          <button class="btn" id="routeToInboxBtn">Send selected → Inbox</button>
          <button class="btn" id="muteChatHubBtn">Mute</button>
        </div>

        <p class="muted" style="margin-top:10px;">
          Later: Teams via Microsoft Graph OAuth. Discord via bot/OAuth + backend relay.
        </p>
      </div>
    </article>
  </section>
</main>

<script src="assets/js/app.js" defer></script>

<!-- tiny UI-only handlers (no backend) -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const openBtn = document.getElementById("openChatHubBtn");
    const routeBtn = document.getElementById("routeToInboxBtn");
    const muteBtn = document.getElementById("muteChatHubBtn");

    if (openBtn) openBtn.addEventListener("click", () => alert("Chat Hub (UI-only) — backend later."));
    if (routeBtn) routeBtn.addEventListener("click", () => alert("Routing to Inbox (UI-only) — persistence later."));
    if (muteBtn) muteBtn.addEventListener("click", () => alert("Muted (UI-only)."));
  });
</script>

</body>
</html>
