<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <meta name="color-scheme" content="dark" />
  <title>Maneit Portal</title>

  <link rel="stylesheet" href="assets/css/style.css" />
</head>

<body>
<header class="topbar">
  <div class="wrap row">
    <a class="brand" href="./index.html">
      <span class="dot"></span>
      <strong>Maneit Portal</strong>
      <span class="pill">Home</span>
    </a>

    <nav class="tabs">
      <a class="tab" href="pages/hub.html">Hub</a>
      <a class="tab" href="pages/work.html">Work</a>
      <a class="tab" href="pages/projects.html">Projects</a>
      <a class="tab" href="pages/agents.html">Agents</a>
      <a class="tab" href="pages/agentfactory.html">AgentFactory</a>
      <a class="tab" href="pages/pipelines.html">Pipelines</a>
      <a class="tab" href="pages/novelcrafter.html">NovelCrafter</a>
      <a class="tab" href="pages/stream.html">Stream</a>
      <a class="tab" href="pages/notes.html">Notes</a>
      <a class="tab" href="pages/system.html">System</a>
    </nav>
  </div>
</header>

<main class="wrap">
  <h1 class="h1">Home</h1>
  <p class="muted">Your replacement for ChatGPT + Calendar + Day Planner + Teams/Discord.</p>

  <section class="grid">
    <!-- CHAT -->
    <article class="card span7">
      <h2>Chat</h2>
      <p class="muted">Self-reflection, thinking out loud, idea exploration.</p>

      <div class="chat-layout">
        <!-- Sidebar -->
        <aside class="chat-sidebar">
          <div class="chat-sidebar-header mono">Chats</div>
          <div class="chat-list" id="chatList"></div>
          <button class="btn" id="newChatBtn" style="margin:10px;">+ New chat</button>
        </aside>

        <!-- Main chat -->
        <div class="chat-main">
          <div class="chat-messages" id="chatMessages"></div>

          <div class="chat-input">
            <select class="field" id="modelSelect">
              <option>Local LLM</option>
              <option>Reasoning model</option>
              <option>Fast draft</option>
            </select>

            <textarea
              class="field chat-textarea"
              id="chatInput"
              placeholder="Write here… (Enter = send, Shift+Enter = new line)"
            ></textarea>

            <button class="btn" id="sendChat">Send</button>
          </div>
        </div>
      </div>
    </article>

    <!-- TODAY -->
    <article class="card span5">
      <h2>Today</h2>
      <p class="muted">Top 3</p>

      <div class="box mono">
        <ol style="margin:0; padding-left:18px; line-height:1.7;">
          <li>Keep portal consistent</li>
          <li>Build OS pages</li>
          <li>Integrations later</li>
        </ol>
      </div>

      <div class="box mono" style="margin-top:12px;">
        <div class="muted">Focus</div>
        <div style="margin-top:6px;">Home UI → Notes/Inbox shells</div>
      </div>
    </article>

    <!-- CALENDAR -->
    <article class="card span6">
      <h2>Calendar</h2>
      <p class="muted">Placeholder daily view.</p>

      <div class="box mono">
        <div>09:00 Focus block</div>
        <div>12:00 Admin</div>
        <div>15:00 Build</div>
      </div>
    </article>

    <!-- CHAT HUB (replaces Email Inbox) -->
    <article class="card span6">
      <h2>Chat Hub</h2>
      <p class="muted">Teams + Discord DMs. UI shell now. Real sync later.</p>

      <div class="box mono">
        <div style="display:flex; gap:10px; flex-wrap:wrap;">
          <span class="pill">Teams: <strong id="teamsCount">0</strong></span>
          <span class="pill">Discord: <strong id="discordCount">0</strong></span>
        </div>

        <div style="margin-top:12px;" class="muted">Latest</div>
        <div id="chatHubList" style="margin-top:8px; display:flex; flex-direction:column; gap:8px;">
          <!-- UI-only items, populated by JS below (or later backend) -->
        </div>

        <div style="display:flex; gap:10px; flex-wrap:wrap; margin-top:12px;">
          <button class="btn" id="openChatHubBtn">Open</button>
          <button class="btn" id="routeToInboxBtn">Send → Inbox</button>
          <button class="btn" id="muteChatHubBtn">Mute</button>
        </div>

        <p class="muted" style="margin-top:10px;">
          Later: Teams via Microsoft Graph OAuth. Discord via bot/OAuth + backend relay.
        </p>
      </div>
    </article>

    <!-- STATUS -->
    <article class="card span12">
      <h2>Status</h2>
      <p class="muted">Portal ~10% complete. This is the thinking layer.</p>
      <p class="muted">Execution lives elsewhere.</p>
    </article>

  </section>
</main>

<script src="assets/js/app.js" defer></script>

<!-- UI-only stub for Chat Hub (no backend). Safe to remove later. -->
<script>
  document.addEventListener("DOMContentLoaded", () => {
    const list = document.getElementById("chatHubList");
    const teamsCount = document.getElementById("teamsCount");
    const discordCount = document.getElementById("discordCount");

    // UI-only mock items (replace with real later)
    const items = [
      { src: "Teams", txt: "@you — Can you check the draft?" },
      { src: "Teams", txt: "#ops — Status on portal build?" },
      { src: "Discord", txt: "DM — You around?" },
    ];

    let t = 0, d = 0;
    list.innerHTML = "";
    items.forEach(it => {
      if (it.src === "Teams") t++;
      if (it.src === "Discord") d++;

      const row = document.createElement("div");
      row.className = "box";
      row.style.padding = "10px";
      row.style.borderRadius = "12px";
      row.innerHTML = `<strong>[${it.src}]</strong> ${it.txt}`;
      list.appendChild(row);
    });

    teamsCount.textContent = String(t);
    discordCount.textContent = String(d);

    const openBtn = document.getElementById("openChatHubBtn");
    const routeBtn = document.getElementById("routeToInboxBtn");
    const muteBtn = document.getElementById("muteChatHubBtn");

    openBtn?.addEventListener("click", () => alert("Chat Hub (UI-only) — backend later."));
    routeBtn?.addEventListener("click", () => alert("Route to Inbox (UI-only) — persistence later."));
    muteBtn?.addEventListener("click", () => alert("Muted (UI-only)."));
  });
</script>

</body>
</html>
